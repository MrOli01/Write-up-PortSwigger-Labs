# CSRF Vulnerability


 ## 1. Lab: CSRF vulnerability with no defenses
 
 A funcionalidade de alteração de e-mail deste laboratório é vulnerável ao CSRF. Para resolver o laboratório, crie um html que usa um ataque CSRF para alterar o endereço de e-mail do espectador e enviá-lo para o seu servidor de exploração. Você pode fazer login em sua própria conta usando as seguintes credenciais: wiener:peter
 
 Acessando acessar o burp e vamos entrar no laboratorio e se logar.
 
 ![image](https://user-images.githubusercontent.com/95362045/168164295-3c0ed8b6-a486-47c3-9652-9a80816ce651.png)
 
 Vamos modificar o nosso email e em seguida iremos ver a request criada.

![image](https://user-images.githubusercontent.com/95362045/168164357-59f2ae79-4d4c-45d3-85bc-86d54df28daf.png)

Observando a request vimos que está sendo encaminhado para /my-account/change-email 

![image](https://user-images.githubusercontent.com/95362045/168164621-6724bee2-a35f-494e-99c0-cd5f8e90c93d.png)

Agora iremos modificar o email da vítima através dessa vulnerabilidade cada vez que a vítima acessar a url. Iremos criar um arquivo HTML 

![image](https://user-images.githubusercontent.com/95362045/168165524-15f87998-887e-430f-bf8b-c145bcc6dc51.png)

Copiamos como a página verdadeira realiza a modificação do email. então setamos a URL e o caminho após a modificação, e o valor do email, criamos um js que irá automaticamente clicar em submit para o envio.

Posteriormente clique em go to exploit server e no final insira seu código.

![image](https://user-images.githubusercontent.com/95362045/168166646-bf5ad789-6261-4360-be0a-88ad8745934b.png)

E posteriormente clique na opção de enviar para a vítima. Devemos se atentar que a URL do laboratório muda com o tempo, então se você usar o burp podera gerar erro se demorar a realizar a atividade e terá que modificar a URL no código.

